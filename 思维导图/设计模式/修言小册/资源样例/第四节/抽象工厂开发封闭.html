<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>æŠ½è±¡å·¥å‚å¼€å‘å°é—­</title>
</head>
<body>
<script>
  // çº¦å®šä½è¿™å°æ‰‹æœºçš„åŸºæœ¬ç»„æˆ
  class MobilePhoneFactory {
    // æä¾›æ“ä½œç³»ç»Ÿçš„æ¥å£
    createOS() {
      throw new Error('æŠ½è±¡å·¥å‚æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼')
    }

    // æä¾›ç¡¬ä»¶çš„æ¥å£
    createHardWare() {
      throw new Error('æŠ½è±¡å·¥å‚æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼')
    }
  }

  // æ‰‹æœºå‹å·èµ·åå« FakeStar
  class FakeStarFactory extends MobilePhoneFactory {
    createOS() {
      // æä¾›å®‰å“ç³»ç»Ÿå®ä¾‹
      return new AndroidOS()
    }

    createHardWare() {
      // æä¾›é«˜é€šç¡¬ä»¶å®ä¾‹
      return new QualcommHardWare()
    }
  }

  // å®šä¹‰æ“ä½œç³»ç»Ÿè¿™ç±»äº§å“çš„æŠ½è±¡äº§å“ç±»
  class OS {
    controlHardWare() {
      throw new Error('æŠ½è±¡äº§å“æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼')
    }
  }

  // å®šä¹‰å…·ä½“æ“ä½œç³»ç»Ÿçš„å…·ä½“äº§å“ç±»
  class AndroidOS extends OS {
    controlHardWare() {
      console.log('æˆ‘ä¼šç”¨å®‰å“çš„æ–¹å¼å»æ“ä½œç¡¬ä»¶')
    }
  }

  class AppleOS extends OS {
    controlHardWare() {
      console.log('æˆ‘ä¼šç”¨ğŸçš„æ–¹å¼å»æ“ä½œç¡¬ä»¶')
    }
  }

  // å®šä¹‰æ‰‹æœºç¡¬ä»¶è¿™ç±»äº§å“çš„æŠ½è±¡äº§å“ç±»
  class HardWare {
    // æ‰‹æœºç¡¬ä»¶çš„å…±æ€§æ–¹æ³•ï¼Œè¿™é‡Œæå–äº†â€œæ ¹æ®å‘½ä»¤è¿è½¬â€è¿™ä¸ªå…±æ€§
    operateByOrder() {
      throw new Error('æŠ½è±¡äº§å“æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼')
    }
  }

  // å®šä¹‰å…·ä½“ç¡¬ä»¶çš„å…·ä½“äº§å“ç±»
  class QualcommHardWare extends HardWare {
    operateByOrder() {
      console.log('æˆ‘ä¼šç”¨é«˜é€šçš„æ–¹å¼å»è¿è½¬')
    }
  }

  class MiWare extends HardWare {
    operateByOrder() {
      console.log('æˆ‘ä¼šç”¨å°ç±³çš„æ–¹å¼å»è¿è½¬')
    }
  }

  // è¿™æ˜¯æˆ‘çš„æ‰‹æœº
  const myPhone = new FakeStarFactory()
  // è®©å®ƒæ‹¥æœ‰æ“ä½œç³»ç»Ÿ
  const myOS = myPhone.createOS()
  // è®©å®ƒæ‹¥æœ‰ç¡¬ä»¶
  const myHardWare = myPhone.createHardWare()
  // å¯åŠ¨æ“ä½œç³»ç»Ÿ(è¾“å‡ºâ€˜æˆ‘ä¼šç”¨å®‰å“çš„æ–¹å¼å»æ“ä½œç¡¬ä»¶â€™)
  myOS.controlHardWare()
  // å”¤é†’ç¡¬ä»¶(è¾“å‡ºâ€˜æˆ‘ä¼šç”¨é«˜é€šçš„æ–¹å¼å»è¿è½¬â€™)
  myHardWare.operateByOrder()

  // å‡å¦‚æœ‰ä¸€å¤©ï¼ŒFakeStarè¿‡æ°”äº†ï¼Œæˆ‘ä»¬éœ€è¦äº§å‡ºä¸€æ¬¾æ–°æœºæŠ•å…¥å¸‚åœºï¼Œ
  // è¿™æ—¶å€™æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬æ˜¯ä¸æ˜¯ä¸éœ€è¦å¯¹æŠ½è±¡å·¥å‚MobilePhoneFactoryåšä»»ä½•ä¿®æ”¹ï¼Œ
  // åªéœ€è¦æ‹“å±•å®ƒçš„ç§ç±»ï¼š

  class newStarFactory extends MobilePhoneFactory {
    createOS() {
      // æ“ä½œç³»ç»Ÿå®ç°ä»£ç 
    }

    createHardWare() {
      // ç¡¬ä»¶å®ç°ä»£ç 
    }
  }
</script>
</body>
</html>
