<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>手写call</title>
</head>
<body>
<script>
  Function.prototype.myCall = function(...args) {
    // 参数检查
    if (typeof this !== 'function') {
      throw new Error('Must call with a function')
    }

    const realThis = args[0] || window

    const realArgs = args.slice(1)

    const funcSymbol = Symbol('func')

    realThis[funcSymbol] = this

    const res = realThis[funcSymbol](...realArgs)

    delete realThis[funcSymbol]

    return res

  }

  // test
  const obj = {
    age: 18,
    name: '小红',
    getInfo(age, name) {
      console.log(`姓名${name}，年龄${age}`)
    }
  }

  obj.
</script>
</body>
</html>
